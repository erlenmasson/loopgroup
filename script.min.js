console.log("Script - Custom v4");if(window.matchMedia("(prefers-color-scheme: dark)").matches){const meta=document.createElement("meta");meta.name="color-scheme";meta.content="light";document.head.appendChild(meta)}document.addEventListener("DOMContentLoaded",()=>{function initializePartnerLogos(){document.querySelectorAll(".partner-logos").forEach(splide=>{new Splide(splide,{type:"loop",autoWidth:!0,arrows:!1,pagination:!1,gap:"5rem",drag:!1,autoScroll:{autoStart:!0,speed:1,pauseOnHover:!1},breakpoints:{600:{gap:"3rem",autoScroll:{speed:.5}}}}).mount(window.splide.Extensions)})}initializePartnerLogos()});gsap.registerPlugin(ScrollTrigger,ScrollSmoother,SplitText);function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}isTouchDevice()||ScrollSmoother.create({smooth:1.5,effects:!0,smoothTouch:0}),ScrollTrigger.getAll().forEach(trigger=>trigger.kill()),window.innerWidth>=1024&&ScrollTrigger.create({trigger:".right",start:"top 64px",end:"bottom 70%",pin:".benefits_image-wrapper",pinSpacing:!0}),pinBenefitsImageWrapper(),document.fonts.ready.then(function(){console.log("Fonts loaded successfully"),console.log("Starting animations"),fadeAnimations(),maskAnimations()}).catch(function(){console.error("Font loading error")});var splitTextInstances=[];function fadeAnimations(){var fadeStart=window.innerWidth<768?"top 100%":"top 85%",fadeEnd=window.innerWidth<768?"top 60%":"bottom 75%",fadeEnd2=window.innerWidth<768?"top 50%":"bottom 75%";splitTextInstances.forEach(instance=>instance.revert()),splitTextInstances=[],gsap.utils.toArray("[data-fade='chars']").forEach(element=>{const split=new SplitText(element,{type:"chars"});splitTextInstances.push(split),gsap.set(split.chars,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:fadeStart,end:fadeEnd2,scrub:!0}}).to(split.chars,{opacity:1,ease:"power1.inOut",stagger:.05})}),gsap.utils.toArray("[data-fade='words']").forEach(element=>{const split=new SplitText(element,{type:"words"});splitTextInstances.push(split),gsap.set(split.words,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:fadeStart,end:fadeEnd,scrub:!0}}).to(split.words,{opacity:1,ease:"power1.inOut",stagger:.1})}),gsap.utils.toArray("[data-fade='lines']").forEach(element=>{const split=new SplitText(element,{type:"lines"});splitTextInstances.push(split),gsap.set(split.lines,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:fadeStart,end:fadeEnd,scrub:!0}}).to(split.lines,{opacity:1,ease:"power1.inOut",stagger:.15})}),gsap.utils.toArray("[data-fade='rich-text']").forEach(richTextElement=>{gsap.utils.toArray(richTextElement.querySelectorAll("h1, h2, h3, h4, h5, h6, p, li, li::marker, blockquote")).forEach(element=>{const split=new SplitText(element,{type:"lines"});splitTextInstances.push(split),gsap.set(split.lines,{opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:fadeStart,end:fadeEnd,scrub:!0}}).to(split.lines,{opacity:1,ease:"power1.inOut",stagger:.15})})}),gsap.utils.toArray("[data-fade='element']").forEach(element=>{gsap.set(element,{opacity:0,y:0}),gsap.timeline({scrollTrigger:{trigger:element,start:"top 90%",end:"top 60%",scrub:!0}}).to(element,{opacity:1,ease:"power2.inOut",y:0})}),gsap.utils.toArray("[data-fade='list']").forEach(list=>{const items=gsap.utils.toArray(list.children);items.forEach(item=>{gsap.set(item,{opacity:0}),gsap.to(item,{opacity:1,ease:"power2.inOut",scrollTrigger:{trigger:item,start:fadeStart,end:fadeEnd,scrub:!0}})})})}function maskAnimations(){var slideUpStart=window.innerWidth<768?"top 100%":"top 85%",slideUpEnd=window.innerWidth<768?"top 50%":"bottom 75%";gsap.utils.toArray("[data-mask='words']").forEach(element=>{const words=wrapTextElements(element,"words");gsap.set(words,{y:"100%",opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:slideUpStart,end:slideUpEnd,scrub:!0}}).to(words,{y:"0%",opacity:1,ease:"power1.out",stagger:.2})}),gsap.utils.toArray("[data-mask='lines']").forEach(element=>{const lines=wrapTextElements(element,"lines");gsap.set(lines,{y:"100%",opacity:0}),gsap.timeline({scrollTrigger:{trigger:element,start:slideUpStart,end:slideUpEnd,scrub:!0}}).to(lines,{y:"0%",opacity:1,ease:"power1.out",stagger:.1})})}function wrapTextElements(element,type){const split=new SplitText(element,{type:type});return splitTextInstances.push(split),split[type].forEach(item=>{const wrapper=document.createElement("span");wrapper.style.display="inline-block",wrapper.style.overflow="hidden",item.parentNode.insertBefore(wrapper,item),wrapper.appendChild(item)}),split[type]}document.addEventListener("click",event=>{if(event.target.classList.contains("read-more")){const textElement=event.target.previousElementSibling;textElement.classList.toggle("truncated"),event.target.textContent=textElement.classList.contains("truncated")?"Read More":"Read Less"}}),document.addEventListener("DOMContentLoaded",()=>{const truncatedElements=document.querySelectorAll(".truncated");truncatedElements.forEach(element=>{if(element.scrollHeight>element.offsetHeight){if(!element.nextElementSibling||!element.nextElementSibling.classList.contains("read-more")){const readMore=document.createElement("span");readMore.className="read-more text-size-small",readMore.textContent="Read More",element.parentNode.insertBefore(readMore,element.nextElementSibling)}}})}),document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollToPlugin);const smoothScrollToSection=()=>{const hash=window.location.hash;if(hash){const targetElement=document.querySelector(hash);targetElement&&gsap.to(window,{duration:1,scrollTo:targetElement})}};window.addEventListener("load",smoothScrollToSection)});
